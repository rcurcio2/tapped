<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SafeKeg</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <style>
        #resultsTable {
            border-radius: 25px !important;
            border-width: 5px !important;
            border-style: solid !important;
            border-color: rgba(0, 128, 255, 0.9) !important;
            width: 90%;  /*Tested and working as expected: */
            padding-top: 1%;
            margin: 0px auto;
            float: none;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body class="bg-dark">
    <div class="container justify-content-md-center">

        <section class="jumbotron text-center" style="margin-top: 7%;">
            <div class="container">
                <h1 class="jumbotron-heading">The "Drink if you hate Sam Yi" Party</h1>
                <p class="lead text-muted">Join us on our journey through the Consumption Vortex.</p>
            </div>
        </section>


        <table class="table table-striped table-dark" id="leader-table">
            <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Beers</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <th scope="row">1</th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <th scope="row">2</th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <th scope="row">3</th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <th scope="row">4</th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <th scope="row">5</th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <th scope="row">6</th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <th scope="row">7</th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <th scope="row">8</th>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <th scope="row">9</th>
                <td></td>
                <td></td>
            </tr>
            </tbody>
        </table>
    </div>
</body>
<script>
window.setInterval(function(){
  getLeaders();
}, 500);

function getLeaders() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      data = JSON.parse(this.responseText); 
      data.leaderboard.forEach(function(curr, index){ $("#leader-table tbody tr")[index].innerHTML = '<tr> <th scope="row">' + (index + 1) + '</th> <td>' + curr.name + '</td>  <td>' + curr.liters + '</td>  </tr>' ;});
    }
  };
  xhttp.open("GET", "leaderboard_api", true);
  xhttp.send();
}
</script>
</html>
